(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(2),s=n.n(a),o=n(16),i=n.n(o),r=n(5),l=(n(49),n(4)),j=n(9),d=(n(50),n(7)),b=(n(33),n.p+"static/media/video-1.59e75226.mp4"),u=(n(51),function(e){for(var t=e.postsPerPage,n=e.totalPosts,a=e.paginate,s=(e.currentPage,[]),o=1;o<=Math.ceil(n/t);o++)s.push(o);return Object(c.jsx)("nav",{className:"Pagination",children:Object(c.jsx)("ul",{className:"pagination",children:s.map((function(e){return Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)(l.b,{onClick:function(){return a(e)},className:"page-link",children:e})},e)}))})})}),h=n(8),O=(n(53),function(e){var t=e.item,n=t.location,a=t.image,s=t.description,o=e.item;return Object(c.jsx)("div",{className:"LocationItem",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"item",children:[Object(c.jsx)("div",{className:"image",children:Object(c.jsx)("img",{src:a,alt:a,width:"300"})}),Object(c.jsxs)("div",{className:"detail",children:[Object(c.jsx)("h1",{children:n}),Object(c.jsxs)("h4",{children:[s.substring(0,30),"..."]}),Object(c.jsxs)(l.b,{className:"btn btn-outline-secondary",to:{pathname:"/details",state:{item:o}},children:[Object(c.jsx)(h.d,{}),"View More"]})]})]}),Object(c.jsx)("hr",{className:"sep-2"})]})})}),m=function(e){var t=e.item;return Object(c.jsx)("div",{className:"grid",children:t.map((function(e){return Object(c.jsx)(O,{item:e},e._id)}))})},p="FETCH_LOCATION",x="FETCH_LOADING",g="DELETE_LOCATION",f="ADD_LOCATION",v="UPDATE_LOCATION",N="SORT_LOCATION_BY_NAME",y="SORT_LOCATION_BY_DATE_CREATED",A="FETCH_SPECIFIC_LOCATION",C="ADD_COMMENT",w="UPDATE_COMMENT",E="DELETE_COMMENT",_="FETCH_SPECIFIC_COMMENT",S="REGISTER_USER",L="REGISTER_USER_FAIL",T="LOGIN_USER",k="LOGIN_USER_FAIL",F="USER_LOADED",P="USER_LOADED_FAIL",D="CLEAR_ERROR",U="UPDATE_USER",I="DELETE_USER",R="GET_SPECIFIC_USER",z="USER_LOADING",M="LOCATION_ERROR",H="/location",B=function(){return{type:x}},W=n(10),G=(n(21),n(54),function(){return Object(c.jsx)("div",{className:"Footer",children:Object(c.jsxs)("footer",{children:[Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"footer-cols",children:[Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Shop & Learn"}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Lorem"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Ipsum"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Dolor amit"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Locations"})})]}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Wild Store"}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Find Link Location"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Today at Wild"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Wild Camp"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"financing"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Ipsum amit"})})]}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Education & Business"}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Wild & Education"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Shop For College"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Wild And Business"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Shop for Business"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Jobs"})})]}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"About Wild"}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"NewsRoom"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Wild Leadership"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Investors"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Events"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{children:"Contact Wild"})})]})]})}),Object(c.jsx)("div",{className:"footer-bottom text-center",children:"Copyright \xa9 2020 Wild Travellers"})]})})}),Y=function(e){var t=Object(r.c)((function(e){return e.location.location})),n=Object(r.c)((function(e){return e.location.isLoading})),s=Object(r.c)((function(e){return e.auth.token})),o=Object(r.b)(),i=Object(a.useState)([]),O=Object(d.a)(i,2),p=O[0],x=O[1],g=Object(a.useState)(""),f=Object(d.a)(g,2),v=f[0],A=f[1];console.log(p.length);var C,w=Object(j.f)(),E=Object(a.useState)(1),_=Object(d.a)(E,2),S=_[0],L=_[1],T=Object(a.useState)(6),k=Object(d.a)(T,1)[0],F=S*k,P=F-k,D=p.slice(P,F);return Object(a.useEffect)((function(){s||(console.log("no token found"),Object(W.b)("You are unauthenticated, You need to be logged in to view places",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,className:"Toastify__toast--error"}),setTimeout((function(){w.push("/login")}),2e3)),x(t)}),[p,w,o,t,D,s]),Object(c.jsxs)("div",{className:"Explore",children:[Object(c.jsx)("div",{className:"showcase",children:Object(c.jsxs)("div",{className:"video-showcase",children:[Object(c.jsx)("video",{src:b,muted:!0,loop:!0,autoPlay:!0}),Object(c.jsxs)("div",{className:"hero",children:[Object(c.jsx)("h1",{children:"Explore the world of Images"}),Object(c.jsx)("h2",{children:"Share Your Travel experience and let people know what they think about it"}),Object(c.jsx)("h3",{children:"Start by adding your Location"}),Object(c.jsx)(l.b,{className:"btn btn-outline-warning",to:"/create",children:"Add Location"})]})]})}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"drop-down-container",children:[Object(c.jsxs)("select",{className:" dropdown",onChange:function(t){var n=t.target.value;"a-z"===n&&o((function(e){e({type:N})})),"z-a"===n&&p.sort().reverse(),"date-created"===n&&o((function(e){e({type:y})})),e.history.push("/explore")},children:[Object(c.jsx)("option",{value:"default",children:"Sort by"}),Object(c.jsx)("option",{value:"a-z",children:"A-Z"}),Object(c.jsx)("option",{value:"z-a",children:"Z-A"}),Object(c.jsx)("option",{value:"date-created",children:"Date Created"})]}),Object(c.jsx)("h2",{children:"Locations"}),Object(c.jsx)("div",{className:" input",children:Object(c.jsx)("input",{type:"text",value:v,placeholder:"Search...",onChange:function(e){return A(e.target.value)}})})]}),Object(c.jsx)("hr",{})]}),!n&&s?Object(c.jsx)("div",{className:"grid",children:Object(c.jsx)("div",{className:"grid-container",children:Object(c.jsx)(m,{item:(C=D,C.filter((function(e){return e.location.toLowerCase().indexOf(v)>-1})))})})}):Object(c.jsxs)("div",{style:{margin:"4rem auto",textAlign:"center",display:"block"},children:[Object(c.jsx)("h1",{children:"Loading...."}),Object(c.jsx)(h.k,{size:50,className:"App-logo-spin App-logo"})]}),Object(c.jsx)(u,{postsPerPage:k,totalPosts:p.length,paginate:function(e){return L(e)},currentPage:S}),Object(c.jsx)(W.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,bodyClassName:"white",progressClassName:"Toastify__progress-bar--dark"}),Object(c.jsx)(G,{})]})},V=(n(55),n.p+"static/media/img7.22b15aae.jpg"),J=function(){return Object(c.jsxs)("div",{className:"Home",children:[Object(c.jsx)("div",{className:"jumbotron",children:Object(c.jsxs)("div",{className:"showcase",children:[Object(c.jsx)("h1",{children:"Wild Traveler."}),Object(c.jsx)("h2",{children:"Explore the world at the convineince of your bedroom"})]})}),Object(c.jsxs)("div",{className:"section",children:[Object(c.jsxs)("div",{className:"item-group explore",children:[Object(c.jsx)("h2",{children:"Want to explore?"}),Object(c.jsx)("h4",{children:"Click the button bellow to get started"}),Object(c.jsxs)(l.c,{className:"btn btn-outline-secondary w-100",to:"/explore",children:[Object(c.jsx)(h.e,{}),"Get Started"]})]}),Object(c.jsxs)("div",{className:"item-group",children:[Object(c.jsx)("h2",{children:"Your only Explore feeline app"}),Object(c.jsx)("h5",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti officiis, modi libero aliquam impedit corrupti?"}),Object(c.jsx)("img",{src:V,alt:"",width:"600",height:"300"})]})]}),Object(c.jsx)(G,{})]})},X=(n(56),function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],s=t[1],o=Object(r.c)((function(e){return e.auth.token})),i=Object(r.c)((function(e){return e.auth.currentUser}));console.log(i);var b=Object(j.f)();return Object(c.jsx)("div",{className:"Navbar",children:Object(c.jsxs)("nav",{className:"navbar",children:[Object(c.jsx)("ul",{className:"nav-group",children:Object(c.jsxs)("li",{className:"nav-item brand",children:[Object(c.jsxs)(l.c,{className:"brand",to:"/",children:[Object(c.jsx)(h.b,{size:40})," ","Wild Travelller"]}),Object(c.jsx)("img",{onClick:function(){return s(!n)},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAYFBMVEX///8AAABLS0uWlpbPz8/8/Pzu7u7Hx8efn5+FhYWPj49eXl7h4eH19fWioqIeHh46OjpHR0e8vLzW1tbCwsLKyspZWVlCQkJRUVFycnKurq60tLQNDQ16enpoaGgXFxd+XyVdAAACPElEQVR4nO3d6VLqQBRF4QYMUwSHAHFAff+3lOZeU235z6qd3Z6s7w1WQROS9JASAAAAAAAAAAAAAAAAAExbs9q28/G121UzSt9yM/PZLPWBa2Nfthb3NSdz4Gx2kn5Vm97dd9ErE/2fYHbSBbrH4BfZWFy6ywaqX1TnZeK7jSawcXcVND82K3dWYSUp3LqzCltJYevOKrSSwrk7qzCn8Fee3FmFJ0nhszur8CwpfHFnFV4khbfurMKtpDDdu7sG95rAdHCHDQ6iwvTgLvtPc63IahmJolGYPbrbrh51gSm9uusuXpWBKR0/zH0fR21gSjvvnf5mpw7Mjev+bKk79+sx+q6W3c34uhGe6AMAAAAAAAAAgL9md9wvxrc/jvVe5uCbwtfKpigUOu90hf5GHbiw9mULbeCbu+/iTRlYxzRhzQThq1pmemtmeV80ntf3P51VhXt32WAvKrxzhw3uNIGdu6vQSQprWdeVadZ2vbuzCu+Swvhz9VlvMSbNZxh/HMb/LY1/PYz/n2YC/0tT+HuL+PeHE7jHn8Bzmgk8a7M/L30QXQm/if7MO4v+3gIAAAAAAAAAAPwhwfeJir7XV/j92sLvuRd+38Twe1/G3780/B608fcRDr8XdC2jMNOMxPh7ssffVz/+XP346y3iF8Y/Z6aOCcL/aKYJ1zLLO9PM9I5/Zlf8c9cmcHZeNWu7ZEtmJnCG5QTOIY1/lmzyL2ATjsEv4c90TvHP5QYAAAAAAAAAAAAAAACAen0CwaI/7mLCS7YAAAAASUVORK5CYII=",width:"40",alt:"",className:"menu-icon"})]})}),Object(c.jsxs)("ul",{className:n?"d-none nav-group":"nav-group",children:[Object(c.jsxs)("li",{className:"nav-item",children:[Object(c.jsx)(h.h,{})," ",Object(c.jsx)(l.c,{to:"/",children:"Home"})]}),Object(c.jsxs)("li",{className:"nav-item",children:[Object(c.jsx)(h.a,{})," ",Object(c.jsx)(l.c,{to:"/contact",children:"Contact"})]}),Object(c.jsxs)("li",{className:"nav-item",children:[Object(c.jsx)(h.g,{})," ","Promotion"]})]}),o?Object(c.jsx)("ul",{className:n?"d-none nav-group":"nav-group",children:i&&Object(c.jsxs)("ul",{className:n?"d-none nav-group":"nav-group",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(l.c,{to:"/profile",children:i.username})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(l.c,{to:"profile",children:Object(c.jsx)("img",{src:i.avatar||"https://img2.pngio.com/default-avatar-port-perry-hospital-foundation-gravatar-png-1600_1600.png",alt:""})})}),Object(c.jsxs)("li",{className:"nav-item",onClick:function(){localStorage.removeItem("token"),Object(W.b)("Logging you out ".concat(i.username),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,className:"Toastify__toast--success"}),setTimeout((function(){b.push("/"),window.location.reload()}),1500)},children:["Log Out"," ",Object(c.jsx)(h.j,{})]})]})}):Object(c.jsxs)("ul",{className:n?"d-none nav-group":"nav-group",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(l.c,{to:"/signup",children:"SignUp"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(l.c,{to:"/login",children:"Login"})})]}),Object(c.jsx)(W.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,bodyClassName:"white",progressClassName:"Toastify__progress-bar--dark"})]})})}),Q=n(38),K=n.n(Q),Z=(n(58),function(e){var t=e.item._id,n=e.populateForm,s=e.comment_id,o=Object(a.useState)(""),i=Object(d.a)(o,2),l=i[0],j=i[1],b=Object(a.useState)(""),u=Object(d.a)(b,2),h=u[0],O=u[1],m=Object(r.b)(),p=Object(r.c)((function(e){return e.specificComment}));console.log(p);return Object(a.useEffect)((function(){fetch("/location/".concat(t,"/comment/").concat(s)).then((function(e){return e.json()})).then((function(e){console.log(e),n&&O(e.foundComment.text)}))}),[n,t,s]),Object(c.jsx)("div",{className:"comment-input",children:n?Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(function(e,t,n){return function(c,a){fetch("".concat(H,"/").concat(e,"/comment/").concat(t),{method:"PUT",body:JSON.stringify({text:n}),headers:{"Content-type":"Application/json",Authorization:a().auth.token}}).then((function(e){return e.json()})).then((function(e){console.log(e),c({type:w,payload:e})}))}}(t,s,h)),window.location.reload()},children:[Object(c.jsx)("input",{type:"text",onChange:function(e){return O(e.target.value)},value:h}),Object(c.jsx)("button",{className:"btn btn-warning",children:"Update Comment"})]}):Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(function(e,t){return function(n,c){console.log(t),fetch("".concat(H,"/").concat(e,"/comment/create"),{method:"POST",body:JSON.stringify({text:t}),headers:{Accept:"application/json","Content-type":"application/json",Authorization:c().auth.token,"Access-Control-Allow-Methods":"POST","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type, Access-Control-Allow-Origin, Access-Control-Allow-Methods",Origin:"http://localhost:5000"}}).then((function(e){return e.json()})).then((function(e){console.log(e.comment),console.log(e.user),console.log(e),n({type:C,payload:e.comment})})).catch((function(e){console.log(e)}))}}(t,l)),window.location.reload(),console.log(t),console.log(l)},children:[Object(c.jsx)("input",{type:"text",onChange:function(e){return j(e.target.value)},value:l,placeholder:"Add comment"}),Object(c.jsx)("button",{className:"btn btn-warning",children:"Enter"})]})})}),q=function(e){var t=e.location.state.item,n=Object(a.useState)(!1),s=Object(d.a)(n,2),o=s[0],i=s[1],b=Object(a.useState)(!1),u=Object(d.a)(b,2),O=u[0],m=u[1],p=Object(a.useState)(!1),x=Object(d.a)(p,2),f=x[0],v=x[1],N=Object(a.useState)(null),y=Object(d.a)(N,2),C=y[0],w=y[1],S=Object(r.c)((function(e){return e.auth.currentUser})),L=Object(r.c)((function(e){return e.location.specificLocation}));console.log(L);var T=Object(j.f)(),k=Object(r.b)(),F=function(e){k(function(e){return function(t,n){fetch("".concat(H,"/").concat(e),{method:"DELETE",headers:{Authorization:n().auth.token}}).then((function(e){return e.json()})).then((function(n){console.log(e),console.log(n),n.error?t({type:M,payload:n}):t({type:g,payload:e})}))}}(e)),T.push("/explore")};return Object(a.useEffect)((function(){k(function(e){return function(t,n){fetch("".concat(H,"/").concat(e),{headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t({type:A,payload:e}),console.log(e)}))}}(t._id))}),[k,t._id]),Object(c.jsxs)("div",{className:"LocationDetails",children:[Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"img-container",children:[Object(c.jsx)("img",{src:t.image,alt:""}),S&&S._id===t.author.id&&Object(c.jsxs)("span",{className:"btn-controller",children:[Object(c.jsx)(h.c,{size:52,onClick:function(){return i(!o)}})," "]}),S&&S._id===t.author.id?Object(c.jsx)("span",{className:"options",children:o&&Object(c.jsxs)("span",{className:"button",children:[Object(c.jsx)(l.b,{to:{pathname:"/edit",state:{item:t}},className:o?"btn btn-default":"none",children:"Edit"}),Object(c.jsx)(l.b,{className:o?"btn btn-danger":"none",onClick:function(){return F(t._id)},children:"Delete"})]})}):null]}),Object(c.jsxs)("div",{className:"details",children:[Object(c.jsxs)("h1",{children:["Name : ",t.location]}),Object(c.jsxs)("h3",{children:["Description : ",t.description]}),Object(c.jsxs)("h4",{children:["Created By : ",t.author.username]}),Object(c.jsxs)("p",{children:["Created: ",K()(t.createdAt).fromNow()]})]})]}),Object(c.jsx)("h2",{children:"Comments"}),Object(c.jsx)("hr",{className:"sep-2"}),L.comment?L.comment.map((function(e){return Object(c.jsx)("div",{className:"comment-container",children:Object(c.jsxs)("div",{className:"comment",children:[Object(c.jsx)("div",{className:"avatar",children:e.avatar?Object(c.jsx)("img",{src:e.avatar,alt:""}):Object(c.jsx)("img",{src:"https://img2.pngio.com/default-avatar-port-perry-hospital-foundation-gravatar-png-1600_1600.png",alt:""})}),Object(c.jsxs)("div",{className:"text",children:[Object(c.jsxs)("div",{className:"comment-content",children:[Object(c.jsxs)("h4",{children:[Object(c.jsxs)(l.b,{style:{color:"blue"},to:{pathname:"/userProfile/".concat(e.author.id),state:{data:e}},children:[e.author.username," "]}),S&&S._id===e.author.id&&"(You)"," "]}),Object(c.jsx)("p",{children:e.text}),Object(c.jsx)("div",{className:"comment-btn",children:S&&O&&S._id===e.author.id?Object(c.jsxs)("span",{className:"button",children:[Object(c.jsx)("button",{className:O?"comment-btn":"none",onClick:function(){v(!f),k(function(e,t){return function(n){fetch("".concat(H,"/").concat(e,"/comment/").concat(t)).then((function(e){return e.json()})).then((function(e){console.log(e),n({type:_,payload:e.foundComment})}))}}(t._id,e._id)),w(e._id)},children:"Edit"}),Object(c.jsx)("button",{className:O?"comment-btn":"none",onClick:function(){k(function(e,t){return function(n,c){fetch("".concat(H,"/").concat(e,"/comment/").concat(t),{method:"DELETE",headers:{Authorization:c().auth.token}}).then((function(e){return e.json()})).then((function(t){console.log(e),console.log(t),t.error?console.log(t.error):n({type:E,payload:e})}))}}(t._id,e._id)),window.location.reload()},children:"Delete"})]}):null})]}),S&&S._id===e.author.id?Object(c.jsx)(h.d,{className:"options-btn",onClick:function(){return m(!O)}}):null]})]})},e._id)})):Object(c.jsxs)("div",{style:{margin:"4rem auto",textAlign:"center",display:"block"},children:[Object(c.jsx)("h1",{children:"Loading Comments...."}),Object(c.jsx)(h.k,{size:50,className:"App-logo-spin App-logo"})]}),Object(c.jsx)(Z,{item:t,populateForm:f,comment_id:C})]})},$=n(14),ee=n(3),te=(n(34),n(18)),ne=n.n(te),ce=n(20),ae=function(e){var t=e.history.location.state.item,n=Object(a.useState)({location:t.location,image:t.image,description:t.description}),o=Object(d.a)(n,2),i=o[0],l=o[1],b=Object(j.f)(),u=Object(r.b)();console.log(t);var h=function(e){return l(Object(ee.a)(Object(ee.a)({},i),{},Object($.a)({},e.target.id,e.target.value)))};console.log(i);return Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsx)("div",{className:"CreateForm",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{children:"Edit Location"}),Object(c.jsxs)("form",{onSubmit:function(e){var n,c;e.preventDefault(),u((n=t._id,c=i,function(e,t){fetch("".concat(H,"/").concat(n),{method:"PUT",body:JSON.stringify(c),headers:{"Content-type":"Application/json",Authorization:t().auth.token}}).then((function(e){return e.json()})).then((function(t){console.log(t),t.error?e({type:M,payload:t}):e({type:v,payload:t})})).catch((function(e){return console.log(e)}))})),console.log(t._id),b.push("/explore"),window.location.reload()},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Location Name"}),Object(c.jsx)("input",{type:"text",id:"location",name:"location",value:i.location,onChange:h})]}),Object(c.jsxs)("div",{className:"form group",children:[Object(c.jsxs)("label",{htmlFor:"image",children:["Image ",Object(c.jsx)(ce.a,{})]}),Object(c.jsxs)("div",{className:"flex",children:[Object(c.jsx)("input",{type:"text",name:"image",id:"image",value:i.image,onChange:h}),"OR",Object(c.jsx)(ne.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return l(Object(ee.a)(Object(ee.a)({},i),{},{image:t}))}})]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{htmlFor:"description",children:["Description ",Object(c.jsx)(ce.b,{})]}),Object(c.jsx)("textarea",{name:"description",id:"description",cols:"30",rows:"10",value:i.description,onChange:h})]}),Object(c.jsx)("button",{className:"btn btn-default w-38",children:"Update"})]})]})}),Object(c.jsx)(G,{})]})},se=function(){var e=Object(a.useState)({location:"",image:"",description:""}),t=Object(d.a)(e,2),n=t[0],o=t[1],i=Object(j.f)(),l=Object(r.b)(),b=Object(r.c)((function(e){return null!==e.location&&e.location.error}));console.log(b);var u=function(e){return o(Object(ee.a)(Object(ee.a)({},n),{},Object($.a)({},e.target.id,e.target.value)))};console.log(n);return Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsxs)("div",{className:"CreateForm",children:[Object(c.jsx)(W.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,bodyClassName:"white",progressClassName:"Toastify__progress-bar--dark"}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{children:"Create Location"}),Object(c.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),l((t=n,function(e,n){fetch("".concat(H),{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json",Authorization:n().auth.token}}).then((function(e){return e.json()})).then((function(t){console.log(t),!1===t.success?e({type:M,payload:t}):e({type:f,payload:t})}))})),""!==n.location&&""!==n.image&&""!==n.description?(i.push("/explore"),console.log(n)):(console.log("action needed"),Object(W.b)("All fields are required",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,className:"Toastify__toast--error"}))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Location Name"}),Object(c.jsx)("input",{type:"text",id:"location",name:"location",placeholder:"Location Name",value:n.location,onChange:u})]}),Object(c.jsxs)("div",{className:"form group",children:[Object(c.jsxs)("label",{htmlFor:"image",children:["Image "," "," ",Object(c.jsx)(ce.a,{})]}),Object(c.jsxs)("div",{className:"flex",children:[Object(c.jsx)("input",{type:"text",name:"image",id:"image",value:n.image,onChange:u,placeholder:"Image Url"}),"OR",Object(c.jsx)(ne.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return o(Object(ee.a)(Object(ee.a)({},n),{},{image:t}))}})]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{htmlFor:"description",children:["Description ",Object(c.jsx)(ce.b,{})]}),Object(c.jsx)("textarea",{name:"description",id:"description",cols:"30",rows:"10",value:n.description,onChange:u})]}),Object(c.jsx)("button",{className:"btn btn-default w-38",children:"Submit"})]})]})]}),Object(c.jsx)("div",{children:Object(c.jsx)(G,{})})]})},oe=function(e){return function(t){fetch("/auth/login",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"Application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),!1===!e.success?t({type:T,payload:e}):(t({type:k,payload:e}),t({type:P}))}))}},ie=function(e){return function(t,n){t({type:x}),fetch("/auth/user/".concat(e),{headers:{Authorization:n().auth.token}}).then((function(e){return e.json()})).then((function(e){console.log(e),t({type:R,payload:e.foundUser})}))}},re=function(){return function(e){e({type:D})}},le=(n(35),function(){var e=Object(a.useState)({email:"",username:"",password:"",bio:"",gender:"",avatar:""}),t=Object(d.a)(e,2),n=t[0],o=t[1],i=Object(r.b)(),b=Object(j.f)(),u=Object(r.c)((function(e){return e.auth.isAuthenticated})),h=Object(r.c)((function(e){return e.auth.errMsg}));h.errors&&h.errors.map((function(e){Object(W.b)(e.msg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,className:"Toastify__toast--success"})}));var O=function(e){return o(Object(ee.a)(Object(ee.a)({},n),{},Object($.a)({},e.target.name,e.target.value)))};null!==u&&(b.push("/explore"),Object(W.b)("Sign up succcessfull",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,className:"Toastify__toast--success"}),window.location.reload());return Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsxs)("div",{className:"Signup",children:[Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{children:"Register"}),Object(c.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),null===u&&(i((t=n,function(e){fetch("/auth/register",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"Application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),!1===!t.success?e({type:S,payload:t}):e({type:L,payload:t})}))})),setTimeout((function(){i(re())}),1e3))},children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"text",placeholder:"Email",name:"email",onChange:O}),Object(c.jsx)("label",{htmlFor:"username",children:"Username"}),Object(c.jsx)("input",{type:"text",placeholder:"Username",name:"username",onChange:O}),Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",placeholder:"Password",name:"password",onChange:O}),Object(c.jsx)("label",{htmlFor:"avatar",children:"Avatar (optional)"}),Object(c.jsx)(ne.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return o(Object(ee.a)(Object(ee.a)({},n),{},{avatar:t}))}}),Object(c.jsx)("label",{htmlFor:"password",children:"Gender"}),Object(c.jsxs)("div",{className:"gender",children:[Object(c.jsx)("label",{htmlFor:"male",children:"Male"}),Object(c.jsx)("input",{type:"radio",id:"male",placeholder:"Gender",value:"Male",name:"gender",onChange:O}),Object(c.jsx)("label",{htmlFor:"female",children:"Female"}),Object(c.jsx)("input",{id:"female",type:"radio",placeholder:"Gender",value:"Female",name:"gender",onChange:O})]}),Object(c.jsx)("label",{htmlFor:"bio",children:"Bio"}),Object(c.jsx)("textarea",{name:"bio",onChange:O}),Object(c.jsx)("button",{className:"btn btn-warning",children:"Register"})]}),Object(c.jsxs)("p",{children:["Already had an account ?"," ",Object(c.jsx)("span",{children:Object(c.jsx)(l.b,{to:"login",children:"Log in"})})]})]}),Object(c.jsx)(W.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,bodyClassName:"white",progressClassName:"Toastify__progress-bar--dark"})]}),Object(c.jsx)("div",{children:Object(c.jsx)(G,{})})]})}),je=function(){var e=Object(a.useState)({email:"",password:""}),t=Object(d.a)(e,2),n=t[0],o=t[1],i=Object(r.b)(),b=Object(j.f)(),u=Object(r.c)((function(e){return""!==e.auth.errMsg&&e.auth.errMsg})),h=Object(r.c)((function(e){return e.auth.success})),O=Object(r.c)((function(e){return e.auth.isAuthenticated}));console.log(u);var m=function(e){return o(Object(ee.a)(Object(ee.a)({},n),{},Object($.a)({},e.target.name,e.target.value)))};return h||Object(W.b)(u.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,className:"Toastify__toast--error"}),null!==O&&(b.push("/"),window.location.reload()),Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsxs)("div",{className:"Signup",children:[Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{children:"Log in"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==n.email&&""!==n.password&&!1===h?(i(oe(n)),Object(W.b)("Welcome",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,className:"Toastify__toast--success"})):(i(oe(n)),setTimeout((function(){i(re())}),1e3),console.log("action needed"))},children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"text",placeholder:"Email",name:"email",onChange:m}),Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",placeholder:"Password",name:"password",onChange:m}),Object(c.jsx)("button",{className:"btn btn-warning",children:"Login"})]}),Object(c.jsxs)("p",{children:["Do not have an account ? ",Object(c.jsx)("span",{children:Object(c.jsx)(l.b,{to:"signup",children:"Sign Up"})})]})]}),Object(c.jsx)(W.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,bodyClassName:"white",progressClassName:"Toastify__progress-bar--dark"})]}),Object(c.jsx)("div",{children:Object(c.jsx)(G,{})})]})},de=(n(59),function(){return Object(c.jsxs)("div",{className:"Contact",children:[Object(c.jsx)("div",{className:"jumbotron",children:Object(c.jsxs)("div",{className:"showcase",children:[Object(c.jsx)("h1",{children:"Contact"}),Object(c.jsx)("h2",{children:"Lorem ipsum dolor sit amet."})]})}),Object(c.jsx)("div",{className:"socials",children:Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:[Object(c.jsx)(h.l,{})," Twitter"]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(h.f,{})," Facebook"]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(h.i,{})," Instagram"]})]})}),Object(c.jsx)("h3",{children:"Kindly Leave us a message"}),Object(c.jsx)("div",{className:"contact-form",children:Object(c.jsx)("div",{className:"layer",children:Object(c.jsxs)("form",{children:[Object(c.jsx)("input",{type:"text",placeholder:"Email"}),Object(c.jsx)("input",{type:"text",placeholder:"Name"}),Object(c.jsx)("textarea",{placeholder:"message",cols:"30",rows:"10"}),Object(c.jsx)("button",{className:"btn w-38 btn-warning",children:"Submit"})]})})}),Object(c.jsx)(G,{})]})}),be=(n(36),function(){var e=Object(r.c)((function(e){return e.auth.currentUser})),t=Object(r.c)((function(e){return e.auth.specificUser})),n=Object(r.c)((function(e){return e.auth.isLoading})),o=Object(r.b)(),i=Object(j.f)(),l=Object(a.useState)({username:e&&e.username,email:e&&e.email,password:e&&e.password,avatar:e&&e.avatar,bio:e&&e.bio,gender:e&&e.gender}),b=Object(d.a)(l,2),u=b[0],h=b[1],O=Object(a.useState)(!1),m=Object(d.a)(O,2),p=m[0],x=m[1],g=function(e){h(Object(ee.a)(Object(ee.a)({},u),{},Object($.a)({},e.target.name,e.target.value)))};Object(a.useEffect)((function(){o(ie(e&&e._id))}),[o]);return Object(c.jsx)(s.a.Fragment,{children:Object(c.jsxs)("div",{className:"Profile",children:[Object(c.jsxs)("div",{className:"container",children:[n||null===ie?null:Object(c.jsxs)("div",{children:[Object(c.jsxs)("h1",{children:[t?e.username:" "," Profile"]}),Object(c.jsxs)("div",{className:"grid-container",children:[Object(c.jsx)("img",{src:t?e.avatar:" ",alt:""}),Object(c.jsxs)("div",{className:"details",children:[Object(c.jsx)("h2",{children:t?e.username:" "}),Object(c.jsx)("h3",{children:t?e.email:" "}),Object(c.jsxs)("p",{children:["Bio: ",Object(c.jsx)("h4",{children:t?e.bio:" "})]}),Object(c.jsxs)("p",{children:["Gender: ",Object(c.jsx)("h4",{children:t?e.gender:" "})]})]})]}),Object(c.jsx)("hr",{})]}),Object(c.jsxs)("div",{className:"options",children:[Object(c.jsx)("h4",{children:"Edit Profile"}),Object(c.jsx)("button",{className:"btn edit-btn",onClick:function(){return x(!p)},children:"Edit"}),Object(c.jsx)("button",{className:"btn delete-btn",onClick:function(){o((function(e,t){fetch("/auth/delete",{method:"DELETE",headers:{Authorization:t().auth.token}}).then(e({type:I}))})),i.push("/explore")},children:"Delete"})]}),p&&Object(c.jsx)("div",{className:"form",children:Object(c.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),o((t=u,function(e,n){fetch("/auth/update",{method:"PUT",body:JSON.stringify(t),headers:{Authorization:n().auth.token,"Content-type":"Application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t.success),console.log(t.updatedUser),e({type:U,payload:t.updatedUser})}))}))},children:[Object(c.jsx)("input",{type:"text",value:u.username,name:"username",onChange:g}),Object(c.jsx)("input",{type:"email",value:u.email,name:"email",onChange:g}),Object(c.jsx)("input",{type:"password",value:u.password,name:"password",onChange:g}),Object(c.jsx)(ne.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return h(Object(ee.a)(Object(ee.a)({},u),{},{avatar:t}))}}),Object(c.jsxs)("div",{className:"gender",children:[Object(c.jsx)("label",{htmlFor:"male",children:"Male"}),Object(c.jsx)("input",{type:"radio",id:"male",placeholder:"Gender",value:"Male",name:"gender",onChange:g}),Object(c.jsx)("label",{htmlFor:"female",children:"Female"}),Object(c.jsx)("input",{id:"female",type:"radio",placeholder:"Gender",value:"Female",name:"gender",onChange:g})]}),Object(c.jsx)("textarea",{rows:"10",name:"bio",onChange:g,children:u.bio}),Object(c.jsx)("button",{className:"btn btn-warning",children:"Update"})]})})]}),Object(c.jsx)(G,{})]})})}),ue=function(e){var t=e.history.location.state.data||e.location.state.data||e.match.params.id,n=Object(r.c)((function(e){return e.auth.specificUser})),o=Object(r.c)((function(e){return e.auth.isLoading})),i=Object(r.b)();return Object(a.useEffect)((function(){i(ie(t.author.id)),console.log(window.location.href.substr(34))}),[i,t.author.id]),Object(c.jsx)(s.a.Fragment,{children:Object(c.jsxs)("div",{className:"Profile",children:[o||null===ie?Object(c.jsx)(h.k,{size:50,className:"App-logo-spin App-logo"}):Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("h1",{children:[n?n.username:" "," Profile"]}),Object(c.jsxs)("div",{className:"grid-container",children:[Object(c.jsx)("img",{src:n?n.avatar:" ",alt:""}),Object(c.jsxs)("div",{className:"details",children:[Object(c.jsx)("h2",{children:n?n.username:" "}),Object(c.jsx)("h3",{children:n?n.email:" "}),Object(c.jsxs)("h4",{children:["Gender: ",n?n.gender:" "]}),Object(c.jsxs)("h4",{children:["Bio: ",n?n.bio:" "]})]})]}),Object(c.jsx)("hr",{})]}),Object(c.jsx)(G,{})]})})};var he=function(){var e=Object(r.b)();return Object(a.useEffect)((function(){e((function(e,t){fetch("/auth/user",{headers:{Authorization:t().auth.token}}).then((function(e){return e.json()})).then((function(t){e({type:F,payload:t})})).catch((function(t){console.log(t),e({type:P,payload:t.message})}))})),e((function(e,t){e(B()),console.log(t()),fetch(H,{headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:p,payload:t}),console.log(t)}))}))}),[e]),Object(c.jsx)(l.a,{children:Object(c.jsx)(j.c,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(X,{}),Object(c.jsx)(j.a,{path:"/",exact:!0,component:J}),Object(c.jsx)(j.a,{path:"/explore",component:Y}),Object(c.jsx)(j.a,{path:"/details",component:q}),Object(c.jsx)(j.a,{path:"/create",component:se}),Object(c.jsx)(j.a,{path:"/edit",component:ae}),Object(c.jsx)(j.a,{path:"/signup",component:le}),Object(c.jsx)(j.a,{path:"/login",component:je}),Object(c.jsx)(j.a,{path:"/contact",component:de}),Object(c.jsx)(j.a,{path:"/userProfile/:id",exact:!0,component:ue}),Object(c.jsx)(j.a,{path:"/profile",component:be})]})})})},Oe=n(19),me=n(39),pe=n(24),xe={location:[],isLoading:!1,error:null,specificLocation:[],specificComment:[]},ge={isAuthenticated:null,token:localStorage.getItem("token"),errMsg:"",currentUser:null,success:null,specificUser:null,isLoading:!1},fe=Object(Oe.c)({location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(ee.a)(Object(ee.a)({},e),{},{location:e.location.sort((function(e,t){return e.location.toLowerCase()<t.location.toLowerCase()?-1:e.location.toLowerCase()>t.location.toLowerCase()?1:0}))});case y:return Object(ee.a)(Object(ee.a)({},e),{},{location:e.location.sort((function(e,t){return e.createdAt<t.createdAt?-1:e.createdAt>t.createdAt?1:0}))});case x:return Object(ee.a)(Object(ee.a)({},e),{},{isLoading:!0});case p:return Object(ee.a)(Object(ee.a)({},e),{},{location:t.payload,isLoading:!1});case A:return Object(ee.a)(Object(ee.a)({},e),{},{specificLocation:t.payload});case f:return Object(ee.a)(Object(ee.a)({},e),{},{location:[].concat(Object(pe.a)(e.location),[t.payload]),error:null});case v:return Object(ee.a)(Object(ee.a)({},e),{},{location:e.location.map((function(e){return e._id===t.payload._id?t.payload:e}))});case g:return Object(ee.a)(Object(ee.a)({},e),{},{location:e.location.filter((function(e){return e._id!==t.payload}))});case M:return Object(ee.a)(Object(ee.a)({},e),{},{error:t.payload});case C:return e.location.map((function(e){return console.log(e.comment)})),Object(ee.a)(Object(ee.a)({},e),{},{location:[].concat(Object(pe.a)(e.location),[e.location.map((function(e){return e.comment.push(t.payload)}))])});case _:return Object(ee.a)(Object(ee.a)({},e),{},{specificComment:t.payload});case E:return Object(ee.a)(Object(ee.a)({},e),{},{location:[].concat(Object(pe.a)(e.location),[e.location.map((function(e){return e.comment.filter((function(e){return e._id!==t.payload}))}))])});case w:return Object(ee.a)(Object(ee.a)({},e),{},{location:[].concat(Object(pe.a)(e.location),[e.location.map((function(e){return e.comment.map((function(n){return n._id!==t.payload._id?t.payload:e}))}))])});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:case S:return localStorage.setItem("token",t.payload.token),Object(ee.a)(Object(ee.a)({},e),{},{isAuthenticated:!0,token:t.payload.token,errMsg:"",success:null,currentUser:t.payload.user.username});case P:return Object(ee.a)(Object(ee.a)({},e),{},{isAuthenticated:null,token:null});case k:case L:return localStorage.removeItem("token"),Object(ee.a)(Object(ee.a)({},e),{},{isAuthenticated:null,token:null,errMsg:t.payload,success:!1});case F:return Object(ee.a)(Object(ee.a)({},e),{},{currentUser:t.payload});case U:return Object(ee.a)(Object(ee.a)({},e),{},{isAuthenticated:!0,currentUser:t.payload});case z:return Object(ee.a)(Object(ee.a)({},e),{},{isLoading:!0});case R:return Object(ee.a)(Object(ee.a)({},e),{},{specificUser:t.payload,isLoading:!1});case I:return localStorage.removeItem("token"),Object(ee.a)(Object(ee.a)({},e),{},{currentUser:null,isAuthenticated:null});case D:return Object(ee.a)(Object(ee.a)({},e),{},{success:null,errMsg:"",currentUser:t.payload});default:return e}}}),ve=[me.a],Ne=Object(Oe.e)(fe,Object(Oe.d)(Oe.a.apply(void 0,ve),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));i.a.render(Object(c.jsx)(r.a,{store:Ne,children:Object(c.jsx)(he,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.53f22468.chunk.js.map